# SearchEngine
## 模块一 关键字推荐
### 离线部分
    处理语料，生成词典和词典索引
### 在线部分
    预热，客户发过来关键字后，从索引文件中进行查找，召回所有含有其中一个字符的词，再根据最小编辑距离等进行排序
## 模块二 网页搜索
### 离线部分
    - 通过爬虫获取网站资料，生成xml文件
    - 利用tinyxml2库对xml文件进行解析，存其中的标题、链接和内容，生成网页库，同时可以生成网页偏移库
      网友偏移库中记录每个网页的id，在网页库中的位置以及网页长度。因为网页库可能过大，不适合加载在内存中
    - 通过Simhash库对网页进行去重，生成新的网页库和网页偏移库
    - 生成粗糙倒排索引，以能够通过内容的一部分查找网页id。（倒排索引可优化）
      倒排索引中利用unordered_map<string, pair<int, double>> 存储，其中string为单词，int为id，double为权重
      权重使用TF/IDF计算
### 在线部分
    - 收到请求后，利用cppjieba切词，通过每个词去倒排索引中查找对应的网页，取交集后，按照权重大为优先，向用户发出相应
## 缓存
    - 为每个工作线程分配一个LRUCache，通过类CacheManager进行管理，定时进行线程之间的缓存同步
